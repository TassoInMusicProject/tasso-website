<script>
// vim: ts=3 ft=javascript
//


//////////////////////////////
//
// DOMContentLoaded event listener --
//

document.addEventListener("DOMContentLoaded", function() {
	CGI = GetCgiParameters();
   if (CGI.rime) {
		var number = parseInt(CGI.rime);
		var value = number;
		if (number < 1000) { value = "0" + value; }
		if (number < 100)  { value = "0" + value; }
		if (number < 10)   { value = "0" + value; }
		ID = "Trm" + value;
   } else if (CGI.id) {
		ID = CGI.id;
console.log("SETTING ID TO ", ID);
   } else {
		ID = "Trm003"
console.log("SETTING ID TO Trm003", CGI);
   }
	LoadTassoData(displayLiterarySources);
});



//////////////////////////////
//
// keydown event listener --
//

window.addEventListener('keydown', function(event) {
   if (event.metaKey) {
		return;
	}

	switch (event.keyCode) {
		case LeftArrowKey:
			if (event.shiftKey) {
				displaySetting();
			} else {
				displayPreviousSource();
			}
			break;
		case RightArrowKey:
			if (event.shiftKey) {
				displayVariant();
			} else {
				displayNextSource();
			}
			break;
		case UpArrowKey:
   		window.location = "/sources";
			break;
	}
});


</script>
