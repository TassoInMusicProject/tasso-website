
{% include_relative sorting-functions.html %}

<script>
// vim: ts=3 ft=javascript

var PITCHQUERY = "";
var RHYTHMQUERY = "";

//////////////////////////////
//
// Function called when document has finished loading:
//

document.addEventListener("DOMContentLoaded", function() {
	CGI = GetCgiParameters();
	HighlightNavigationBar();

	$("#pitch").focus(function() {
		$(this).data("hasfocus", true);
	});

	$(document.body).keyup(function(event) {
		//if (event.which == EnterKey) {
		// Require pressing the search button for now:
		/*
			if ($("#pitch:focus")) {
				doSearch();
			} else if ($("#interval:focus")) {
				doSearch();
			} else if ($("#rhythm:focus")) {
				doSearch();
			}
		*/
		//}
	});

	var searchbutton = document.querySelector("#searchButton");
	if (searchbutton) {
		searchbutton.addEventListener("click", function() {
			console.log("DOING SEARCH");
			doSearch();
		});
	}

	LoadTassoData(doActions);
});



function doActions() {
   PrepareGlobalTassoObjects();
}





</script>

