<script>
// vim: ts=3 ft=javascript


//////////////////////////////
//
// DOMContentLoaded event listener --
//

document.addEventListener("DOMContentLoaded", function() {
	CGI = GetCgiParameters();
	var id = "";
	if (CGI.rime) {
		var id = "Trm";
		if (CGI.rime < 1000) { id += "0"; }
		if (CGI.rime < 100)  { id += "0"; }
		if (CGI.rime < 10)   { id += "0"; }
		id += CGI.rime;
		CGI.id = id;
	} else if (!CGI.id) {
		CGI.id = "Trm1049";
	}
	LoadTassoData(initializeVariantsPage);
	//   displayLiteraryVariants(id, "#contents");
});



//////////////////////////////
//
// process Window keys down:
//

window.addEventListener('keydown', function(event) {
   if (event.metaKey) {
		return;
	}

	switch (event.keyCode) {
		case LeftArrowKey:
			if (event.shiftKey) {
				displaySource();
			} else {
				displayPreviousSource();
			}
			break;
		case RightArrowKey:
			if (event.shiftKey) {
				displaySetting();
			} else {
				displayNextSource();
			}
			break;
		case UpArrowKey:
   		window.location = "/variants";
			break;
	}

});


</script>
