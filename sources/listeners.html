<script>
// vim: ts=3 ft=javascript
//


//////////////////////////////
//
// DOMContentLoaded event listener --
//

document.addEventListener("DOMContentLoaded", function() {
	CGI = GetCgiParameters();
   if (CGI.rime) {
		Rime = CGI.rime;
   } else if (CGI.id) {
		var matches = CGI.id.match(/Trm(\d+)/);
		if (matches) {
			Rime = matches[1];
		} else {
			Rime = 0;
		}
   } else {
		Rime = 0;
   }
	LoadTassoData(displayLiterarySources);
});



//////////////////////////////
//
// keydown event listener --
//

window.addEventListener('keydown', function(event) {
   if (event.metaKey) {
		return;
	}

	switch (event.keyCode) {
		case LeftArrowKey:
			if (event.shiftKey) {
				displaySetting();
			} else {
				displayPreviousSource();
			}
			break;
		case RightArrowKey:
			if (event.shiftKey) {
				displayVariant();
			} else {
				displayNextSource();
			}
			break;
		case UpArrowKey:
   		window.location = "/sources";
			break;
	}
});


</script>
